<div class="container">
    <div class="row">
        
        <div class="col-lg-12 mt-5">
            <h1>User List</h1>
            <div class="t card p-4 ">             
                <div class="d-flex card-body table-responsive">
                    <table class="table table-hover table-bordered table-responsive">
                        <thead>
                          <tr class="bg-dark text-white">
                            <th scope="col" (click)="sortList('id')">ID
                              <span class="sortF">
                                {{sortField =="id" ? (sortOrder > 0 ? '↑' : '↓'):''}}
                              </span>
                            </th>
                            <th scope="col" (click)="sortList('name')">{{'name'  }}
                              <span class="sortF">
                                {{sortField =="name" ? (sortOrder > 0 ? '↑' : '↓'):''}}
                              </span>
                            </th>
                           
                            <th scope="col" (click)="sortList('lastname')">{{'lastname'  }}
                              <span class="sortF">
                                {{sortField =="lastname" ? (sortOrder > 0 ? '↑' : '↓'):''}}
                              </span>
                            </th>
                            <th scope="col" (click)="sortList('userName')">{{'userName'  }}
                                <span class="sortF">
                                  {{sortField =="userName" ? (sortOrder > 0 ? '↑' : '↓'):''}}
                                </span>
                            </th>
                            <th scope="col" (click)="sortList('email')">{{'email'  }}
                                <span class="sortF">
                                  {{sortField =="email" ? (sortOrder > 0 ? '↑' : '↓'):''}}
                                </span>
                            </th>
                            <th scope="col">{{'action'  }}</th>
                          </tr>
                        </thead>
                        <tbody >
                          <tr *ngFor="let cl of Clients">
                            <th scope="row">{{cl.id}}</th>
                            <td>{{cl.name}}</td>
                            <td>{{cl.lastName}}</td>
                            <td>{{cl.userName}}</td>
                            <td>{{cl.email}}</td>
                            <td style="width: 200px;"><button class="btn btn-light me-2" data-toggle="modal" data-target="#exampleModal" (click)="getClientsByid(cl.id)"><span class="material-symbols-outlined">
                              edit
                              </span></button><button (click)="delete(cl.id)" class="btn btn-light me-2"><span class="material-symbols-outlined">
                              delete
                              </span></button>
                              <button [routerLink]="['details',cl.id]"  class="btn btn-light me-2"  ><span class="material-symbols-outlined">
                                description
                              </span></button>
                            </td>
                              
                          </tr>             
                        </tbody>
                      </table>
                </div>
            </div>
        </div>
    </div>
    
</div><!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{'edit'}}</h5>
        <button type="button" (click)="success = false" class="close btn" data-dismiss="modal" aria-label="Close">
          <span style="font-size: 30px;" aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p *ngIf="success" class="text-success d-flex justify-content-center" style="font-weight: bold;text-align: center;">{{'Success'  }}</p>
        <form  class="register mt-4" [formGroup]="form">
          <div class="d-flex flex-row"  >
  
              <div class="d-flex flex-column mb-2 w-100" style="margin-right: 20px;">
                  <label >
                      <span>{{'name'}}</span>
                  </label>
                  <input class="form-control" formControlName="name" type="text">
              </div>
              <div class="d-flex flex-column mb-2 w-100">
                  <label >
                      <span>{{'lastname'}}</span>
                  </label>
                  <input class="form-control" formControlName="lastName" type="text">
              </div>
          </div>
          <div class="d-flex flex-column mb-2">
            <label >
                <span>{{'userName'}}</span>
            </label>
            <input class="form-control" formControlName="userName" type="text">
        </div>
          <div class="d-flex flex-column mb-2">
              <label >
                  <span>{{'email'}}</span>
              </label>
              <input class="form-control" formControlName="email" type="text">
          </div>
          
          <div class="d-flex flex-column mb-2">
              <label >
                  <span>{{'password'}}</span>
              </label>
              <input class="form-control" formControlName="password" minlength="8" type="text">
          </div>
          
        
        
      </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary"(click)="success = false" data-dismiss="modal">{{'close'  }}</button>
        <button type="button" class="btn btn-primary" (click)="edit(Id,form.value)">{{'save_changes'  }}</button>
      </div>
    </div>
  </div>
</div>
<div *ngIf="deleteSuccess" class="alert alert-success d-flex justify-content-center" role="alert">
  <span style="font-weight: bold;">{{'Success'  }}</span>
</div>